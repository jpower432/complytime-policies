{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://standards.complytime.org/complytime-control-metadata.standard.json",
  "title": "ComplyTime Control Requirement Metadata Standard",
  "description": "Standard metadata requirements for ComplyTime CALM control requirements. Enforces Gemara-based metadata for compliance traceability.",
  "type": "object",
  "properties": {
    "metadata": {
      "type": "object",
      "properties": {
        "gemara": {
          "type": "object",
          "properties": {
            "policy-id": {
              "type": "string",
              "description": "Gemara Layer 3 Policy ID that contains this control (e.g., 'financial-services-cloud-policy-001')"
            },
            "control-id": {
              "type": "string",
              "description": "Control ID from the policy (e.g., 'CCC.Core.CN01')"
            },
            "base-control": {
              "type": "object",
              "properties": {
                "reference-id": {
                  "type": "string",
                  "description": "Base control ID from catalog (e.g., 'CCC.Core.CN01')"
                },
                "reference-url": {
                  "type": "string",
                  "description": "Gemara URL to base control (e.g., 'gemara://controls/FINOS-CCC/CCC.Core.CN01')"
                },
                "catalog-id": {
                  "type": "string",
                  "description": "Control catalog identifier (e.g., 'FINOS-CCC')"
                }
              },
              "required": ["reference-id", "reference-url", "catalog-id"],
              "additionalProperties": false
            },
            "gold-path-pattern": {
              "type": "string",
              "description": "Gold path pattern this control is part of (e.g., 'api-gateway-pattern')"
            },
            "layer": {
              "type": "string",
              "enum": ["Layer 2", "Layer 3"],
              "description": "Gemara layer this control belongs to"
            }
          },
          "additionalProperties": true
        }
      },
      "additionalProperties": true
    }
  },
  "additionalProperties": true
}
